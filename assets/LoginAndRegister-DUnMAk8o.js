import{j as s,L as p,r as m,u as h,am as f,b as x,an as y,ao as C,ap as j,aq as N,ar as g,as as w,at as k}from"./index-CY_IFIoQ.js";import{u as v,l as S,r as B}from"./validationScema-C8y4bU21.js";import{B as b}from"./Button-CTrHzomD.js";import{a as t}from"./index-CGHXpZQ_.js";import{b as d,c as u}from"./index-BNcTI6SV.js";function P({eyeIcon:r,handleEyeIconState:a,accounts:l,handleClickBtn:n}){const e=v({initialValues:{userName_email:"",password:""},validationSchema:S,validateOnBlur:!0,validateOnChange:!0,onSubmit:i=>{const c=l.find(o=>o.email===i.userName_email||o.userName===i.userName_email);if(!c){e.setFieldError("userName_email","Incorrect name or eamil address");return}if(c.password!==i.password){e.setFieldError("password","Incorrect password");return}n(c)}});return s.jsxs("div",{className:"login",children:[s.jsx("p",{className:"title",children:"If you have an account, sign in with your username or email address."}),s.jsxs("form",{onSubmit:e.handleSubmit,children:[s.jsxs("div",{className:"box",children:[s.jsxs("label",{children:["Username or email address ",s.jsx("span",{children:"*"})]}),s.jsxs("div",{className:`input-box ${e.touched.userName_email&&e.errors.userName_email?"error":null}`,children:[s.jsx("input",{type:"text",placholder:"",value:e.values.userName_email,name:"userName_email",onChange:e.handleChange,onBlur:e.handleBlur}),s.jsx(t,{className:"error-icon",style:{display:e.touched.userName_email&&e.errors.userName_email?"block":null}})]}),e.touched.userName_email&&e.errors.userName_email?s.jsx("p",{className:"error-message",children:e.errors.userName_email}):""]}),s.jsxs("div",{className:"box",children:[s.jsxs("label",{children:["Password ",s.jsx("span",{children:"*"})]}),s.jsxs("div",{className:`input-box ${e.touched.password&&e.errors.password?"error":null}`,children:[s.jsx("input",{type:r==="closed"?"password":"text",placholder:"",value:e.values.password,name:"password",onChange:e.handleChange,onBlur:e.handleBlur}),s.jsxs("div",{className:"icons-box",children:[r==="closed"?s.jsx(d,{className:"eye-icon closed",onClick:()=>{a()}}):s.jsx(u,{className:"icon open",onClick:()=>{a()}}),s.jsx(t,{className:"error-icon",style:{display:e.touched.password&&e.errors.password?"block":null}})]})]}),e.touched.password&&e.errors.password?s.jsx("p",{className:"error-message",children:e.errors.password}):""]}),s.jsx(p,{to:"",className:"lost-password",children:"Lost your password?"}),s.jsx(b,{btnTitle:"Login"})]})]})}function _(){const[r,a]=m.useState("closed"),l=h(o=>o.userInfo.accounts),n=f(),e=x(),i=()=>{a(r==="closed"?"open":"closed")},c=o=>{e(y()),e(C(o)),e(j()),e(N("Successfully logged in")),e(g("success")),e(w()),n(-1)};return s.jsx(s.Fragment,{children:s.jsx(P,{eyeIcon:r,handleEyeIconState:i,accounts:l,handleClickBtn:c})})}function E({eyeIcon:r,handleEyeIconState:a,handleClickBtn:l,checkEmail:n}){const e=v({initialValues:{userName:"",email:"",password:"",repeatPassword:""},validationSchema:B,validateOnBlur:!0,validateOnChange:!0,onSubmit:i=>{if(console.log(!n(i.email)),n(i.email)){e.setFieldError("email","This email is aleardy in use");return}l(i)}});return s.jsxs("div",{className:"register",children:[s.jsx("p",{className:"title",children:"If you don`t have an account, create a new account."}),s.jsxs("form",{onSubmit:e.handleSubmit,children:[s.jsxs("div",{className:"box",children:[s.jsxs("label",{children:["Username ",s.jsx("span",{children:"*"})]}),s.jsxs("div",{className:`input-box ${e.touched.userName&&e.errors.userName?"error":null}`,children:[s.jsx("input",{type:"text",placholder:"",value:e.values.userName,name:"userName",onChange:e.handleChange,onBlur:e.handleBlur,autoComplete:"off"}),s.jsx(t,{className:"error-icon",style:{display:e.touched.userName&&e.errors.userName?"block":null}})]}),e.touched.userName&&e.errors.userName?s.jsx("p",{className:"error-message",children:e.errors.userName}):""]}),s.jsxs("div",{className:"box",children:[s.jsxs("label",{children:["Email address ",s.jsx("span",{children:"*"})]}),s.jsxs("div",{className:`input-box ${e.touched.email&&e.errors.email?"error":null}`,children:[s.jsx("input",{type:"email",placholder:"",value:e.values.email,name:"email",onChange:e.handleChange,onBlur:e.handleBlur,autoComplete:"off"}),s.jsx(t,{className:"error-icon",style:{display:e.touched.email&&e.errors.email?"block":null}})]}),e.touched.email&&e.errors.email?s.jsx("p",{className:"error-message",children:e.errors.email}):""]}),s.jsxs("div",{className:"box",children:[s.jsxs("label",{children:["Password ",s.jsx("span",{children:"*"})]}),s.jsxs("div",{className:`input-box ${e.touched.password&&e.errors.password?"error":null}`,children:[s.jsx("input",{type:r.password==="closed"?"password":"text",placholder:"",value:e.values.password,name:"password",onChange:e.handleChange,onBlur:e.handleBlur,autoComplete:"off"}),s.jsxs("div",{className:"icons-box",children:[r.password==="closed"?s.jsx(d,{className:"eye-icon closed",onClick:()=>{a("password")}}):s.jsx(u,{className:"icon open",onClick:()=>{a("password")}}),s.jsx(t,{className:"error-icon",style:{display:e.touched.password&&e.errors.password?"block":null}})]})]}),e.touched.password&&e.errors.password?s.jsx("p",{className:"error-message",children:e.errors.password}):""]}),s.jsxs("div",{className:"box",children:[s.jsxs("label",{children:["Repeat password ",s.jsx("span",{children:"*"})]}),s.jsxs("div",{className:`input-box ${e.touched.repeatPassword&&e.errors.repeatPassword?"error":null}`,children:[s.jsx("input",{type:r.repeatPassword==="closed"?"password":"text",placholder:"",value:e.values.repeatPassword,name:"repeatPassword",onChange:e.handleChange,onBlur:e.handleBlur,autoComplete:"off"}),s.jsxs("div",{className:"icons-box",children:[r.repeatPassword==="closed"?s.jsx(d,{className:"eye-icon closed",onClick:()=>{a("repeatPassword")}}):s.jsx(u,{className:"icon open",onClick:()=>{a("repeatPassword")}}),s.jsx(t,{className:"error-icon",style:{display:e.touched.repeatPassword&&e.errors.repeatPassword?"block":null}})]})]}),e.touched.repeatPassword&&e.errors.repeatPassword?s.jsx("p",{className:"error-message",children:e.errors.repeatPassword}):""]}),s.jsxs("p",{className:"description",children:["Your personal data will be used to support your experience throughout this website, to manage access to your account, and for other purposes described in our",s.jsx(p,{to:"",children:"privacy policy."})]}),s.jsx(b,{btnTitle:"Register",func:()=>{}})]})]})}function I(){const r=h(l=>l.userInfo.accounts);return l=>{const n=r.some(e=>e.email===l);return console.log(n),n}}function L({goToLogin:r}){const[a,l]=m.useState({password:"closed",repeatPassword:"closed"}),n=I(),e=x();function i(o){e(k(o)),e(j(o)),r(),e(N("Account successfully created")),e(g("success")),e(w())}const c=o=>{l({...a,[o]:a[o]==="closed"?"open":"closed"})};return s.jsx(s.Fragment,{children:s.jsx(E,{eyeIcon:a,handleEyeIconState:c,handleClickBtn:i,checkEmail:n})})}function U(){const[r,a]=m.useState("login");return s.jsx("div",{className:"login-register",children:s.jsxs("div",{className:"container",children:[s.jsxs("div",{className:"head",children:[s.jsx("span",{className:`${r==="login"?"active":""}`,onClick:()=>{a("login")},children:"Login"}),s.jsx("span",{className:`${r==="register"?"active":""}`,onClick:()=>{a("register")},children:"Register"})]}),s.jsx("div",{className:"login-register-content",children:r==="login"?s.jsx(_,{}):r==="register"?s.jsx(L,{goToLogin:()=>{a("login")}}):null})]})})}export{U as default};
