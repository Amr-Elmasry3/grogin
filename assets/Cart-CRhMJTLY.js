import{j as s,c as o,av as x,ac as h,ad as j,C as m,L as n,u as p}from"./index-Bb4PeO6A.js";import{T as N,a as u,b,c as r,d as l,e as g}from"./TableRow-Caa2WeaS.js";import{E as v}from"./EmptyBox-BppKrqwU.js";import{u as C,a as f}from"./useIncreaseProductCount-JP7wHzwu.js";import{B as i}from"./Button-BVKZ5FL7.js";function y({subTotal:e}){return s.jsxs("div",{className:`cart-free-shipping ${e>=100?"done":""}`,children:[s.jsxs("p",{children:["Add",s.jsxs("span",{children:["$",100-e>=0?(100-e).toFixed(2):"0.00"]}),"to cart and get free shipping!"]}),s.jsx("div",{className:"shipping-progress",children:s.jsx("span",{style:{width:`${e}%`}})})]})}function T({products:e}){const c=o(),t=C(),d=f();return s.jsx("div",{className:"cart-table",children:[...e].length?s.jsx(N,{component:x,className:"table-container",children:s.jsxs(u,{sx:{minWidth:950},"aria-label":"simple table",className:"table",children:[s.jsx(b,{className:"table-head",children:s.jsxs(r,{className:"table-row",children:[s.jsx(l,{align:"center",className:"table-cell",children:"Image"}),s.jsx(l,{align:"center",className:"table-cell",children:"Category / Name"}),s.jsx(l,{align:"center",className:"table-cell",children:"Price"}),s.jsx(l,{align:"center",className:"table-cell",children:"Quntity"}),s.jsx(l,{align:"center",className:"table-cell",children:"Total"}),s.jsx(l,{align:"center",className:"table-cell",children:"Remove"})]})}),s.jsx(g,{className:"table-body",children:e.map(a=>s.jsxs(r,{className:"table-row",children:[s.jsx(l,{align:"center",className:"table-cell",children:s.jsx("div",{className:"product-img",children:s.jsx("img",{src:a.images[0],alt:`img${a.id}...`})})}),s.jsxs(l,{align:"center",className:" table-cell",children:[s.jsx("span",{className:"category",children:a.category.main}),s.jsx("span",{className:"title",children:a.name})]}),s.jsx(l,{align:"center",className:"table-cell",children:s.jsxs("span",{className:"price",children:["$",(a.price-a.price*(a.discount/100)).toFixed(2)]})}),s.jsx(l,{align:"center",className:"table-cell",children:s.jsxs("div",{className:"quntity",children:[s.jsx("div",{className:"decrease-icon",onClick:()=>{t(a)},children:s.jsx(h,{className:"icon"})}),s.jsx("span",{className:"count",children:a.count}),s.jsx("div",{className:"increase-icon",onClick:()=>{d(a)},children:s.jsx(j,{className:"icon"})})]})}),s.jsx(l,{align:"center",className:"table-cell",children:s.jsxs("span",{className:"total",children:["$",(a.count*(a.price-a.price*(a.discount/100))).toFixed(2)]})}),s.jsx(l,{align:"center",className:"table-cell",children:s.jsx(m,{func:()=>{c(a,"cart")}})})]},a.id))})]})}):s.jsx(v,{page:"cart"})})}function F({subTotal:e}){return s.jsxs("div",{className:"cart-totals",children:[s.jsx("span",{className:"title",children:"Cart Totals"}),s.jsxs("div",{className:"details",children:[s.jsxs("div",{className:"box",children:[s.jsx("span",{className:"key",children:"Cart Subtotal"}),s.jsx("span",{className:"value",children:e.toFixed(2)})]}),s.jsxs("div",{className:"box",children:[s.jsx("span",{className:"key",children:"Shiping"}),s.jsxs("span",{className:"value",children:["$",e>=100?25:0]})]}),s.jsxs("div",{className:"box",children:[s.jsx("span",{className:"key",children:"Total"}),s.jsxs("span",{className:"value",children:["$",e>=100?(e-20).toFixed(2):e.toFixed(2)]})]})]}),s.jsxs("div",{className:"cart-totals-btns",children:[s.jsx(n,{to:"/shop",children:s.jsx(i,{btnTitle:"Shopping"})}),s.jsx(n,{to:"/checkout",children:s.jsx(i,{btnTitle:"CheckOut"})})]})]})}function B(){const e=p(c=>c.cart);return s.jsx("div",{className:"cart-page",children:s.jsxs("div",{className:"container",children:[s.jsx(y,{subTotal:e.subTotal}),s.jsx(T,{products:e.products}),s.jsx(F,{subTotal:e.subTotal})]})})}export{B as default};
