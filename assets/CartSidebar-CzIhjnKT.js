import{j as s,C as d,L as l,c as h,u as x,b as u,d as p}from"./index-CdliZPC_.js";import{E as j}from"./EmptyBox-C_4a11jU.js";import{u as m}from"./useCheckLogin-BFy596Do.js";function b({cart:e,removeProduct:r,isOpen:n,handleClick:a,isLogin:t,checkLogin:i}){return s.jsxs("div",{className:`cart-sidebar ${n?"open":""}`,children:[s.jsxs("div",{className:"cart-head",children:[s.jsx("span",{children:"Shopping Cart"}),s.jsx(d,{func:()=>{a()}})]}),s.jsx("div",{className:"free-shipping",children:s.jsxs("p",{children:["Add",s.jsxs("span",{children:["$",100-e.subTotal>=0?(100-e.subTotal).toFixed(2):"0.00"]}),"to cart and get free shipping!"]})}),s.jsx("div",{className:"cart-body",children:[...e.products].length?s.jsx(s.Fragment,{children:e.products.map(c=>s.jsxs("div",{className:"product",children:[s.jsx("div",{className:"remove",children:s.jsx(d,{func:()=>{r(c,"cart")}})}),s.jsx("div",{className:"img-box",children:s.jsx("img",{src:c.images[0],alt:`img${c.id}...`})}),s.jsxs("div",{className:"details",children:[s.jsx("p",{className:"title",children:c.name}),s.jsxs("p",{className:"price",children:[c.discount?s.jsxs(s.Fragment,{children:["$",(c.price-c.price*(c.discount/100)).toFixed(2)]}):c.price,s.jsxs("span",{className:"count",children:["x",c.count]})]})]})]},c.id))}):s.jsx(j,{page:"cart"})}),s.jsxs("div",{className:"cart-footer",children:[s.jsxs("p",{className:"sub-total",children:["Subtotal: ",s.jsxs("span",{children:["$",e.subTotal.toFixed(2)]})]}),s.jsxs("div",{className:"btns-box",children:[s.jsx(l,{to:"/cart",onClick:a,children:s.jsx("button",{className:"cart-btn",children:"View Cart"})}),t?s.jsx(l,{to:"/checkout",onClick:a,children:s.jsx("button",{className:"checkout-btn",children:"Chceckout"})}):s.jsx("button",{className:"checkout-btn",onClick:()=>{i(),a()},children:"Chceckout"})]})]})]})}function f(){const e=h(),{isLogin:r,checkLogin:n}=m(),a=x(o=>o.cart),t=x(o=>o.cartSidebar.isOpen),i=u(),c=()=>{i(p())};return s.jsx(s.Fragment,{children:s.jsx(b,{cart:a,removeProduct:e,isOpen:t,handleClick:c,isLogin:r,checkLogin:n})})}export{f as default};
